/*! Parallax - v0.1.0 - 2014-12-19
* Copyright (c) 2014 Wes Hatch; Licensed MIT */
!function(a){"use strict";function b(){i||(i=!0,window.requestAnimationFrame(d),j=window.scrollY)}function c(){k=window.innerHeight,d()}function d(){Array.prototype.forEach.call(f,e),i=!1}function e(a){var b,c=a.getBoundingClientRect().top,d=200;c-d>k||(h?(b=Math.min(1,-c/k)*d,b*=a.parallaxSpeed):b=a.parallaxSpeed*j,a.style[l]="translate3d(0, "+b+"px, 0)")}var f,g,h,i=!1,j=window.scrollY,k=window.innerHeight,l=function(){var a=["transform","webkitTransform","MozTransform","OTransform"],b=a.length,c=document.createElement("fake");for(b;--b;)if(void 0!==c.style[a[b]])return a[b];return!1}(),m={init:function(a){return(f=document.querySelectorAll(a.el||".parallax"))&&l?(g=a.range?a.range:200,h=a.mode?a.mode:1,Array.prototype.forEach.call(f,function(a){a.parallaxSpeed=+(a.getAttribute("data-parallax-speed")||0);for(var b=a.getBoundingClientRect().top,c=0;Math.abs(b-c)>1;)c=b,e(a),b=a.getBoundingClientRect().top}),window.addEventListener("scroll",b,!1),void window.addEventListener("resize",c,!1)):!1},destroy:function(){window.removeEventListener("scroll",b),window.removeEventListener("resize",c),delete a.parallax}};"function"==typeof define&&define.amd?define(["parallax"],m):a.parallax=m}(window);