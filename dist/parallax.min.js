/*! Parallax - v0.1.0 - 2014-12-18
* Copyright (c) 2014 Wes Hatch; Licensed MIT */
!function(a){"use strict";function b(){g||(g=!0,window.requestAnimationFrame(d),i=window.scrollY)}function c(){j=window.innerHeight,d()}function d(){Array.prototype.forEach.call(f,e),g=!1}function e(a){var b,c=a.getBoundingClientRect().top,d=200;c-d>j||(h?(b=Math.min(1,-c/j)*d,b*=a.parallaxSpeed):b=a.parallaxSpeed*i,a.style[k]="translate3d(0, "+b+"px, 0)")}var f,g=!1,h=1,i=window.scrollY,j=window.innerHeight,k=function(){var a=["transform","webkitTransform","MozTransform","OTransform"],b=a.length,c=document.createElement("fake");for(b;--b;)if(void 0!==c.style[a[b]])return a[b];return!1}(),l={init:function(a){return(f=document.querySelectorAll(a.el||".parallax"))&&k?(Array.prototype.forEach.call(f,function(a){a.parallaxSpeed=+(a.getAttribute("data-parallax-speed")||0);for(var b=a.getBoundingClientRect().top,c=0;Math.abs(b-c)>1;)c=b,e(a),b=a.getBoundingClientRect().top}),this.scrollListener=window.addEventListener("scroll",b,!1),void(this.resizeListener=window.addEventListener("resize",c,!1))):!1},destroy:function(){window.removeEventListenter(this.scrollListener),window.removeEventListenter(this.resizeListener),f=null}};"function"==typeof define&&define.amd?define(["parallax"],l):a.parallax=l}(window);