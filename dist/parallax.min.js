!function(e){"use strict";function n(){d||(d=!0,window.requestAnimationFrame(r),c=window.scrollY)}function t(){f=window.innerHeight,r()}function r(){Array.prototype.forEach.call(a,o),d=!1}function o(e){var n,t=e.getBoundingClientRect().top;t-i>f||(l?(n=Math.min(1,-t/f)*i,n*=e.parallaxSpeed):n=e.parallaxSpeed*c,e.style[s]="translate3d(0, "+n+"px, 0)")}var a,i,l,d=!1,c=window.scrollY,f=window.innerHeight,s=function(){var e=["transform","webkitTransform","MozTransform","OTransform"],n=e.length,t=document.createElement("fake");for(n;--n;)if(void 0!==t.style[e[n]])return e[n];return!1}(),u={init:function(e){return(a=document.querySelectorAll(e.el||".parallax"))&&s?(i=e.range?e.range:200,l=e.mode?e.mode:1,Array.prototype.forEach.call(a,function(e,n){e.parallaxSpeed=+(e.getAttribute("data-parallax-speed")||1);for(var t=e.getBoundingClientRect().top,r=0;Math.abs(t-r)>1;)r=t,o(e),t=e.getBoundingClientRect().top}),window.addEventListener("scroll",n,!1),void window.addEventListener("resize",t,!1)):!1},destroy:function(){window.removeEventListener("scroll",n),window.removeEventListener("resize",t),delete e.parallax}};"function"==typeof define&&define.amd?define(["parallax"],u):e.parallax=u}(window);